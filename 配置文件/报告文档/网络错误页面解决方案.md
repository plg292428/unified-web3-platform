# 网络错误页面解决方案

## 问题描述

浏览器显示Chrome网络错误页面（`neterror`），无法连接到开发服务器。

## 错误特征

- 页面显示 `class="neterror"`
- 包含 `id="main-frame-error"` 元素
- 浏览器无法加载 http://localhost:5173

## 可能的原因

### 1. 开发服务器未启动
**症状**: 端口5173未被占用
**解决**: 启动开发服务器

### 2. 服务器启动失败
**症状**: 启动命令执行后立即退出
**解决**: 检查错误日志，修复问题后重新启动

### 3. 端口被占用
**症状**: 端口5173被其他程序占用
**解决**: 停止占用端口的进程或更改端口

### 4. 防火墙阻止
**症状**: 服务器运行但无法访问
**解决**: 配置防火墙允许本地连接

## 解决步骤

### 步骤1: 检查服务器状态
```powershell
# 检查端口是否被监听
netstat -ano | findstr ":5173"
```

### 步骤2: 启动开发服务器
```powershell
cd src/Frontend/web-app
npm run dev
```

### 步骤3: 验证启动
- 查看终端输出，应该看到：
  ```
  VITE v5.x.x  ready in xxx ms
  
  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
  ```

### 步骤4: 刷新浏览器
- 按 `Ctrl+F5` 强制刷新
- 或关闭标签页重新打开

## 常见错误及解决

### 错误1: 端口已被占用
```
Error: listen EADDRINUSE: address already in use :::5173
```
**解决**:
```powershell
# 查找占用端口的进程
netstat -ano | findstr ":5173"

# 停止进程（替换PID为实际进程ID）
taskkill /F /PID <PID>
```

### 错误2: 模块未找到
```
Error: Cannot find module 'xxx'
```
**解决**:
```powershell
npm install
```

### 错误3: 依赖版本冲突
```
Error: ERESOLVE unable to resolve dependency tree
```
**解决**:
```powershell
npm install --legacy-peer-deps
```

## 验证方法

### 1. 检查端口监听
```powershell
netstat -ano | findstr ":5173" | findstr "LISTENING"
```
应该看到类似：
```
TCP    [::1]:5173             [::]:0                 LISTENING       xxxxx
```

### 2. 测试连接
```powershell
# 使用curl测试（如果已安装）
curl http://localhost:5173

# 或使用PowerShell
Invoke-WebRequest -Uri http://localhost:5173 -UseBasicParsing
```

### 3. 检查浏览器
- 打开 http://localhost:5173
- 应该看到应用界面，而不是错误页面
- 控制台应该显示正常日志

## 预防措施

### 1. 使用启动脚本
创建 `启动开发服务器.bat`:
```batch
@echo off
cd src\Frontend\web-app
npm run dev
pause
```

### 2. 检查依赖
定期运行：
```powershell
npm install
```

### 3. 清理缓存
如果问题持续：
```powershell
# 清理node_modules和缓存
rm -r node_modules
rm package-lock.json
npm install
```

## 如果问题仍然存在

1. **检查防火墙**: 确保Windows防火墙允许Node.js
2. **检查代理**: 如果有代理设置，尝试禁用
3. **检查hosts文件**: 确保localhost指向127.0.0.1
4. **重启电脑**: 有时可以解决端口占用问题
5. **查看详细日志**: 在终端中查看完整的错误信息

## 联系支持

如果以上方法都无法解决，请提供：
- 完整的错误日志
- `package.json` 内容
- Node.js和npm版本
- 操作系统版本

